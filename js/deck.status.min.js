/*!
Deck JS - deck.status
Copyright (c) 2011 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
https://github.com/imakewebthings/deck.js/blob/master/GPL-license.txt
*//*
This module adds a (current)/(total) style status indicator to the deck.
*/(function(e,t,n){var r=e(document),i=function(n,r,i){var s=e[t]("getOptions");e(s.selectors.statusCurrent).text(s.countNested?i+1:e[t]("getSlide",i).data("rootSlide"))};e.extend(!0,e[t].defaults,{selectors:{statusCurrent:".deck-status-current",statusTotal:".deck-status-total"},countNested:!0});r.bind("deck.init",function(){var n=e[t]("getOptions"),r=e[t]("getSlides"),s=e[t]("getSlide"),o;if(n.countNested)e(n.selectors.statusTotal).text(r.length);else{var u=1,a=e.map([n.classes.before,n.classes.previous,n.classes.current,n.classes.next,n.classes.after],function(e,t){return"."+e}).join(", ");e.each(r,function(e,t){var r=t.parentsUntil(n.selectors.container,a);t.data("rootSlide",r.length?r.last().data("rootSlide"):u++)});e(n.selectors.statusTotal).text(u-1)}e.each(r,function(e,t){if(t===s){o=e;return!1}});i(null,o,o)}).bind("deck.change",i)})(jQuery,"deck");