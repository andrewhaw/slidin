(function(e,t,n,r){var i=e(document),s=e(n),o,u=function(n){var r=n.substr(n.indexOf("#")+1),i=e[t]("getSlides");e.each(i,function(n,i){if(i.attr("id")===r){e[t]("go",n);return!1}});e[t]("getContainer").scrollLeft(0).scrollTop(0)};e.extend(!0,e[t].defaults,{selectors:{hashLink:".deck-permalink"},hashPrefix:"slide-",preventFragmentScroll:!0});i.bind("deck.init",function(){var r=e[t]("getOptions");o=e(),slides=e[t]("getSlides");e.each(slides,function(i,s){var u;if(!s.attr("id")||s.data("deckAssignedId")===s.attr("id")){s.attr("id",r.hashPrefix+i);s.data("deckAssignedId",r.hashPrefix+i)}u="#"+s.attr("id");u===n.location.hash&&e[t]("go",i);o=o.add('a[href="'+u+'"]')});Modernizr.hashchange||o.unbind("click.deckhash").bind("click.deckhash",function(t){u(e(this).attr("href"))});slides.length&&e[t]("getContainer").addClass(r.classes.onPrefix+e[t]("getSlide").attr("id"))}).bind("deck.change",function(r,i,s){var o="#"+e[t]("getSlide",s).attr("id"),u=n.location.href.replace(/#.*/,"")+o,a=e[t]("getOptions"),f=a.classes.onPrefix,l=e[t]("getContainer");l.removeClass(f+e[t]("getSlide",i).attr("id"));l.addClass(f+e[t]("getSlide",s).attr("id"));e(a.selectors.hashLink).attr("href",u);Modernizr.history&&n.history.replaceState({},"",u)});s.bind("hashchange.deckhash",function(e){e.originalEvent&&e.originalEvent.newURL?u(e.originalEvent.newURL):u(n.location.hash)}).bind("load",function(){e[t]("getOptions").preventFragmentScroll&&e[t]("getContainer").scrollLeft(0).scrollTop(0)})})(jQuery,"deck",this);